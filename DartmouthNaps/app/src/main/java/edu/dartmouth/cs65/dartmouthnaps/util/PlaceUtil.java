package edu.dartmouth.cs65.dartmouthnaps.util;

import android.util.Log;

import java.util.ArrayList;
import java.util.Comparator;
import java.util.List;

public abstract class PlaceUtil {
    private static final String TAG = "DartmouthNaps: PlaceUtil";
    private static final int X = 0;
    private static final int Y = 1;
    private static final int MILLION = 1000000;

    public static final String[] PLACE_NAMES = {
            "Andres Hall",
            "Baker-Berry Library",
            "Bartlett Hall",
            "Berry Hall",
            "Bildner Hall",
            "Bissell/Cohen Lounge",
            "Bissell Hall",
            "Black Family Visual Arts Center",
            "Blunt Alumni Center",
            "Brown Hall",
            "Brown/Little Lounge",
            "Burke Hall",
            "Butterfield Hall",
            "Byrne II Hall",
            "Carpenter Hall",
            "Carson Hall",
            "Channing Cox Hall",
            "Class of 1953 Commons",
            "Class of 1978 Life Sciences Center",
            "Cohen Hall",
            "Collis Center",
            "Cummings Hall",
            "Dartmouth Hall",
            "Fahey Hall",
            "Fayerweather Hall",
            "French Hall",
            "Gile Hall",
            "Goldstein Hall",
            "Haldeman Center",
            "Hitchcock Hall",
            "Hopkins Center for the Arts",
            "House Center A",
            "House Center B",
            "Judge Hall",
            "Kemeny Hall",
            "Kresge Physical Sciences Library",
            "Little Hall",
            "Lord Hall",
            "MacLean Engineering Sciences Center",
            "Massachusetts Hall",
            "Maxwell Hall",
            "McCulloch Hall",
            "McLane Hall",
            "McNutt Hall",
            "Moore Psychology Building",
            "Morton Hall",
            "New Hampshire Hall",
            "North Fairbanks",
            "North Fayerweather Hall",
            "North Massachusetts Hall",
            "Parkhurst Hall",
            "Rauner Hall",
            "Reed Hall",
            "Richardson Hall",
            "Ripley Hall",
            "Robinson Hall",
            "Rockefeller Center",
            "Rollins Chapel",
            "Roth Center For Jewish Life",
            "Russell Sage Hall",
            "Sanborn Hall",
            "Sherman House",
            "Silsby Hall",
            "Smith Hall",
            "South Fairbanks",
            "South Fayerweather Hall",
            "South Massachusetts Hall",
            "Steele Hall",
            "Streeter Hall",
            "Sudikoff Hall",
            "The Lodge",
            "Thomas Hall",
            "Thornton Hall",
            "Topliff Hall",
            "Webster Hall",
            "Wentworth Hall",
            "Wheeler Hall",
            "Wilder Hall",
            "Wilson Hall",
            "Winifred-Raven House",
            "Woodward Hall",
            "Zimmerman Hall"};

    public static final int PLACE_COUNT = PLACE_NAMES.length;

    public static final double[][] PLACE_COORDINATES_AVG = new double[][]{
            {43.704179, -72.284346}, // Andres Hall
            {43.705441, -72.288708}, // Baker-Berry Library
            {43.703040, -72.286871}, // Bartlett Hall
            {43.707021, -72.286322}, // Berry Hall
            {43.707192, -72.286057}, // Bildner Hall
            {43.707491, -72.291183}, // Bissell/Cohen Lounge
            {43.707264, -72.291449}, // Bissell Hall
            {43.701363, -72.286854}, // Black Family Visual Arts Center
            {43.704701, -72.290041}, // Blunt Alumni Center
            {43.707299, -72.290361}, // Brown Hall
            {43.707374, -72.290784}, // Brown/Little Lounge
            {43.706317, -72.285995}, // Burke Hall
            {43.705629, -72.291062}, // Butterfield Hall
            {43.707355, -72.286791}, // Byrne II Hall
            {43.705501, -72.289234}, // Carpenter Hall
            {43.705825, -72.289117}, // Carson Hall
            {43.703615, -72.296168}, // Channing Cox Hall
            {43.703048, -72.290994}, // Class of 1953 Commons
            {43.708977, -72.284026}, // Class of 1978 Life Sciences Center
            {43.707630, -72.291598}, // Cohen Hall
            {43.702764, -72.289999}, // Collis Center
            {43.704579, -72.294835}, // Cummings Hall
            {43.703747, -72.287110}, // Dartmouth Hall
            {43.705396, -72.291615}, // Fahey Hall
            {43.703744, -72.286415}, // Fayerweather Hall
            {43.704078, -72.297120}, // French Hall
            {43.704666, -72.291257}, // Gile Hall
            {43.707592, -72.286635}, // Goldstein Hall
            {43.706213, -72.289192}, // Haldeman Center
            {43.704706, -72.290698}, // Hitchcock Hall
            {43.701635, -72.288129}, // Hopkins Center for the Arts
            {43.702431, -72.285189}, // House Center A
            {43.704547, -72.290988}, // House Center B
            {43.704393, -72.296611}, // Judge Hall
            {43.706478, -72.288928}, // Kemeny Hall
            {43.705991, -72.286335}, // Kresge Physical Sciences Library
            {43.707100, -72.290809}, // Little Hall
            {43.704649, -72.292100}, // Lord Hall
            {43.704245, -72.294899}, // MacLean Engineering Sciences Center
            {43.703793, -72.290600}, // Massachusetts Hall
            {43.703729, -72.295538}, // Maxwell Hall
            {43.704506, -72.283351}, // McCulloch Hall
            {43.705541, -72.291993}, // McLane Hall
            {43.703574, -72.289927}, // McNutt Hall
            {43.707311, -72.287999}, // Moore Psychology Building
            {43.704045, -72.283588}, // Morton Hall
            {43.702482, -72.286801}, // New Hampshire Hall
            {43.703666, -72.291105}, // North Fairbanks
            {43.704092, -72.286402}, // North Fayerweather Hall
            {43.704127, -72.290644}, // North Massachusetts Hall
            {43.704038, -72.289955}, // Parkhurst Hall
            {43.707435, -72.285891}, // Rauner Hall
            {43.703092, -72.287467}, // Reed Hall
            {43.704702, -72.286638}, // Richardson Hall
            {43.704098, -72.285774}, // Ripley Hall
            {43.703112, -72.289941}, // Robinson Hall
            {43.705787, -72.290201}, // Rockefeller Center
            {43.704470, -72.287296}, // Rollins Chapel
            {43.707934, -72.292311}, // Roth Center For Jewish Life
            {43.705472, -72.290767}, // Russell Sage Hall
            {43.704789, -72.289219}, // Sanborn Hall
            {43.707620, -72.288402}, // Sherman House
            {43.705517, -72.290088}, // Silsby Hall
            {43.704240, -72.285237}, // Smith Hall
            {43.703464, -72.291114}, // South Fairbanks
            {43.703400, -72.286421}, // South Fayerweather Hall
            {43.703436, -72.290590}, // South Massachusetts Hall
            {43.705685, -72.286571}, // Steele Hall
            {43.704649, -72.291729}, // Streeter Hall
            {43.706703, -72.287135}, // Sudikoff Hall
            {43.700712, -72.286671}, // The Lodge
            {43.707795, -72.286382}, // Thomas Hall
            {43.703389, -72.287105}, // Thornton Hall
            {43.702560, -72.286018}, // Topliff Hall
            {43.704447, -72.288200}, // Webster Hall
            {43.704105, -72.287091}, // Wentworth Hall
            {43.705062, -72.287328}, // Wheeler Hall
            {43.705278, -72.286302}, // Wilder Hall
            {43.702312, -72.287422}, // Wilson Hall
            {43.707067, -72.287556}, // Winifred-Raven House
            {43.704263, -72.285556}, // Woodward Hall
            {43.704428, -72.283862}};  // Zimmerman Hall

    public static final double[][][] PLACE_COORDINATES = new double[][][]
    {
        {    // Andres Hall
            {43.704342, -72.284200},
            {43.704249, -72.284150},
            {43.704198, -72.284332},
            {43.704175, -72.284319},
            {43.704166, -72.284347},
            {43.704040, -72.284278},
            {43.704001, -72.284416},
            {43.704245, -72.284546},
        }, { // Baker-Berry Library
            {43.704881, -72.288981},
            {43.704877, -72.289024},
            {43.704836, -72.289024},
            {43.704836, -72.289112},
            {43.704890, -72.289112},
            {43.704891, -72.289155},
            {43.705067, -72.289156},
            {43.705070, -72.289204},
            {43.705178, -72.289205},
            {43.705178, -72.289158},
            {43.705387, -72.289166},
            {43.705388, -72.289029},
            {43.705752, -72.289034},
            {43.705888, -72.288857},
            {43.705799, -72.288246},
            {43.705680, -72.288276},
            {43.705691, -72.288405},
            {43.705617, -72.288401},
            {43.705616, -72.288429},
            {43.705395, -72.288425},
            {43.705395, -72.288280},
            {43.705212, -72.288279},
            {43.705210, -72.288258},
            {43.705094, -72.288252},
            {43.705096, -72.288271},
            {43.704897, -72.288267},
            {43.704894, -72.288436},
            {43.705088, -72.288443},
            {43.705084, -72.288675},
            {43.705063, -72.288677},
            {43.705063, -72.288782},
            {43.705077, -72.288783},
            {43.705075, -72.288984}
        }, { // Bartlett Hall
            {43.703126, -72.286764},
            {43.703013, -72.286718},
            {43.703010, -72.286733},
            {43.702998, -72.286732},
            {43.702993, -72.286737},
            {43.702986, -72.286746},
            {43.702983, -72.286760},
            {43.702984, -72.286771},
            {43.702986, -72.286780},
            {43.702993, -72.286791},
            {43.702998, -72.286795},
            {43.702958, -72.286978},
            {43.702966, -72.286982},
            {43.702965, -72.286989},
            {43.702965, -72.286997},
            {43.702968, -72.287007},
            {43.702975, -72.287015},
            {43.702979, -72.287018},
            {43.702988, -72.287019},
            {43.702994, -72.287018},
            {43.703002, -72.287014},
            {43.703006, -72.287009},
            {43.703009, -72.287003},
            {43.703071, -72.287034}
        }, { // Berry Hall
            {43.707044, -72.286172},
            {43.707022, -72.286199},
            {43.706970, -72.286123},
            {43.706877, -72.286244},
            {43.707038, -72.286485},
            {43.707025, -72.286501},
            {43.707061, -72.286555},
            {43.707102, -72.286501},
            {43.707094, -72.286489},
            {43.707179, -72.286379},
            {43.707146, -72.286329},
            {43.707125, -72.286358},
            {43.707071, -72.286277},
            {43.707092, -72.286249}
        }, { // Bildner Hall
            {43.707092, -72.286249},
            {43.707113, -72.286222},
            {43.707137, -72.286258},
            {43.707338, -72.285998},
            {43.707311, -72.285958},
            {43.707335, -72.285927},
            {43.707282, -72.285860},
            {43.707261, -72.285888},
            {43.707246, -72.285871},
            {43.707189, -72.285946},
            {43.707153, -72.285892},
            {43.707086, -72.285977},
            {43.707125, -72.286030},
            {43.707049, -72.286130},
            {43.707062, -72.286148},
            {43.707044, -72.286172}
        }, { // Bissell/Cohen Lounge
            {43.707586, -72.291315},
            {43.707542, -72.291169},
            {43.707497, -72.291195},
            {43.707487, -72.291157},
            {43.707561, -72.291114},
            {43.707529, -72.291016},
            {43.707459, -72.291056},
            {43.707466, -72.291081},
            {43.707444, -72.291098},
            {43.707434, -72.291065},
            {43.707402, -72.291081},
            {43.707443, -72.291219},
            {43.707428, -72.291229},
            {43.707474, -72.291381}
        }, { // Bissell Hall
            {43.707295, -72.291258},
            {43.707205, -72.291309},
            {43.707231, -72.291398},
            {43.707135, -72.291454},
            {43.707173, -72.291578},
            {43.707257, -72.291532},
            {43.707286, -72.291623},
            {43.707385, -72.291564}
        }, { // Black Family VIsual Arts Center
            {43.701600, -72.287211},
            {43.701606, -72.286952},
            {43.701587, -72.286952},
            {43.701594, -72.286647},
            {43.701451, -72.286639},
            {43.701454, -72.286525},
            {43.701140, -72.286511},
            {43.701125, -72.287123},
            {43.701152, -72.287182},
            {43.701365, -72.287193},
            {43.701366, -72.287152},
            {43.701433, -72.287156},
            {43.701432, -72.287203}
        }, { // Blunt Alumni Center
            {43.704835, -72.289962},
            {43.704770, -72.289959},
            {43.704770, -72.289914},
            {43.704791, -72.289914},
            {43.704795, -72.289753},
            {43.704776, -72.289751},
            {43.704776, -72.289719},
            {43.704684, -72.289715},
            {43.704683, -72.289746},
            {43.704662, -72.289746},
            {43.704659, -72.289912},
            {43.704678, -72.289913},
            {43.704676, -72.289992},
            {43.704600, -72.290095},
            {43.704549, -72.290093},
            {43.704548, -72.290115},
            {43.704533, -72.290116},
            {43.704532, -72.290217},
            {43.704599, -72.290220},
            {43.704599, -72.290292},
            {43.704666, -72.290294},
            {43.704667, -72.290270},
            {43.704696, -72.290270},
            {43.704697, -72.290156},
            {43.704745, -72.290093},
            {43.704818, -72.290094},
            {43.704820, -72.290062},
            {43.704833, -72.290063}
        }, { // Brown Hall
            {43.707452, -72.290439},
            {43.707414, -72.290306},
            {43.707348, -72.290342},
            {43.707302, -72.290184},
            {43.707205, -72.290237},
            {43.707248, -72.290388},
            {43.707190, -72.290420},
            {43.707230, -72.290562}
        }, { // Brown/Little Lounge
            {43.707491, -72.290870},
            {43.707466, -72.290785},
            {43.707394, -72.290823},
            {43.707387, -72.290793},
            {43.707433, -72.290766},
            {43.707387, -72.290603},
            {43.707277, -72.290664},
            {43.707325, -72.290825},
            {43.707340, -72.290815},
            {43.707374, -72.290938},
            {43.707398, -72.290924},
            {43.707387, -72.290892},
            {43.707412, -72.290878},
            {43.707422, -72.290908}
        }, { // Burke Hall
            {43.706267, -72.286264},
            {43.706516, -72.285994},
            {43.706482, -72.285933},
            {43.706533, -72.285874},
            {43.706410, -72.285665},
            {43.706099, -72.286011},
            {43.706113, -72.286039}
        }, { // Butterfield Hall
            {43.705538, -72.290958},
            {43.705635, -72.291352},
            {43.705744, -72.291290},
            {43.705639, -72.290874},
            {43.705672, -72.290846},
            {43.705659, -72.290784},
            {43.705611, -72.290782}
        }, { // Byrne II Hall
            {43.707454, -72.286766},
            {43.707432, -72.286791},
            {43.707299, -72.286538},
            {43.707219, -72.286621},
            {43.707240, -72.286665},
            {43.707190, -72.286715},
            {43.707413, -72.287029},
            {43.707515, -72.286929},
            {43.707502, -72.286908},
            {43.707524, -72.286889}
        }, { // Carpenter Hall
            {43.705388, -72.289029},
            {43.705381, -72.289416},
            {43.705660, -72.289421},
            {43.705662, -72.289251},
            {43.705573, -72.289250},
            {43.705577, -72.289031}
        }, { // Carson Hall
            {43.705888, -72.288857},
            {43.705752, -72.289034},
            {43.705748, -72.289330},
            {43.705882, -72.289333}
        }, { // Channing Cox Hall
            {43.703580, -72.296159},
            {43.703691, -72.295937},
            {43.703652, -72.295900},
            {43.703675, -72.295856},
            {43.703560, -72.295755},
            {43.703516, -72.295841},
            {43.703603, -72.295927},
            {43.703473, -72.296184},
            {43.703687, -72.296392},
            {43.703622, -72.296521},
            {43.703688, -72.296582},
            {43.703774, -72.296413},
            {43.703740, -72.296380},
            {43.703761, -72.296337}
        }, { // Class of 1953 Commons
            {43.703219, -72.290444},
            {43.703040, -72.290435},
            {43.703038, -72.290465},
            {43.702968, -72.290462},
            {43.702958, -72.290775},
            {43.702833, -72.290770},
            {43.702819, -72.291256},
            {43.702936, -72.291264},
            {43.702929, -72.291508},
            {43.703187, -72.291522}
        }, { // Class of 1978 Life Sciences Center
            {43.709159, -72.284718},
            {43.709451, -72.284473},
            {43.709422, -72.284401},
            {43.709511, -72.284329},
            {43.709491, -72.284274},
            {43.709512, -72.284190},
            {43.709410, -72.284163},
            {43.709395, -72.284072},
            {43.709267, -72.284100},
            {43.709090, -72.283622},
            {43.709063, -72.283649},
            {43.708997, -72.283500},
            {43.708956, -72.283539},
            {43.708913, -72.283475},
            {43.708886, -72.283508},
            {43.708818, -72.283384},
            {43.708360, -72.283807},
            {43.708512, -72.284081},
            {43.708532, -72.284066},
            {43.708559, -72.284118},
            {43.708863, -72.283840},
            {43.709104, -72.284379},
            {43.709165, -72.284330},
            {43.709231, -72.284482},
            {43.709098, -72.284603},
            {43.709116, -72.284648}
        }, { // Cohen Hall
            {43.707682, -72.291417},
            {43.707478, -72.291535},
            {43.707514, -72.291651},
            {43.707576, -72.291616},
            {43.707623, -72.291773},
            {43.707718, -72.291718},
            {43.707678, -72.291583},
            {43.707723, -72.291556}
        }, { // Collis Center
            {43.702805, -72.289763},
            {43.702772, -72.289760},
            {43.702771, -72.289734},
            {43.702764, -72.289713},
            {43.702753, -72.289690},
            {43.702738, -72.289675},
            {43.702723, -72.289667},
            {43.702706, -72.289662},
            {43.702690, -72.289664},
            {43.702673, -72.289673},
            {43.702659, -72.289684},
            {43.702647, -72.289699},
            {43.702640, -72.289721},
            {43.702635, -72.289747},
            {43.702571, -72.289744},
            {43.702567, -72.289928},
            {43.702600, -72.289931},
            {43.702598, -72.290030},
            {43.702568, -72.290027},
            {43.702566, -72.290235},
            {43.702821, -72.290241},
            {43.702822, -72.290268},
            {43.702980, -72.290276},
            {43.702985, -72.290034},
            {43.702912, -72.289883},
            {43.702852, -72.289826},
            {43.702805, -72.289806}
        }, { // Cummings Hall
            {43.704408, -72.295256},
            {43.704715, -72.295262},
            {43.704774, -72.295174},
            {43.704779, -72.294743},
            {43.704736, -72.294741},
            {43.704737, -72.294523},
            {43.704604, -72.294521},
            {43.704605, -72.294444},
            {43.704622, -72.294444},
            {43.704624, -72.294320},
            {43.704462, -72.294317},
            {43.704461, -72.294441},
            {43.704475, -72.294441},
            {43.704474, -72.294516},
            {43.704407, -72.294514},
            {43.704405, -72.294734}
        }, { // Dartmouth Hall
            {43.703966, -72.286990},
            {43.703817, -72.286990},
            {43.703816, -72.286972},
            {43.703658, -72.286972},
            {43.703657, -72.286992},
            {43.703542, -72.286993},
            {43.703541, -72.287210},
            {43.703659, -72.287212},
            {43.703660, -72.287236},
            {43.703826, -72.287236},
            {43.703827, -72.287210},
            {43.703965, -72.287209}
        }, { // Fahey Hall
            {43.705507, -72.291776},
            {43.705471, -72.291666},
            {43.705444, -72.291683},
            {43.705438, -72.291332},
            {43.705407, -72.291331},
            {43.705405, -72.291289},
            {43.705346, -72.291288},
            {43.705346, -72.291328},
            {43.705318, -72.291329},
            {43.705325, -72.291855},
            {43.705362, -72.291907},
            {43.705440, -72.291908}
        }, { // Fayerweather Hall
            {43.703973, -72.286338},
            {43.703919, -72.286340},
            {43.703918, -72.286296},
            {43.703563, -72.286303},
            {43.703564, -72.286346},
            {43.703516, -72.286348},
            {43.703517, -72.286478},
            {43.703566, -72.286477},
            {43.703568, -72.286537},
            {43.703923, -72.286531},
            {43.703923, -72.286457},
            {43.703971, -72.286455}
        }, { // French Hall
            {43.703971, -72.296900},
            {43.703913, -72.297025},
            {43.703987, -72.297026},
            {43.704003, -72.297062},
            {43.703897, -72.297314},
            {43.703960, -72.297372},
            {43.704077, -72.297115},
            {43.704295, -72.297120},
            {43.704288, -72.297007},
            {43.704084, -72.297012},
            {43.704058, -72.296966},
            {43.704082, -72.296893}
        }, { // Gile Hall
            {43.704688, -72.291470},
            {43.704688, -72.291409},
            {43.704807, -72.291410},
            {43.704810, -72.291065},
            {43.704693, -72.291063},
            {43.704692, -72.291252},
            {43.704527, -72.291252},
            {43.704527, -72.291409},
            {43.704629, -72.291411},
            {43.704629, -72.291470}
        }, { // Goldstein Hall
            {43.707524, -72.286889},
            {43.707612, -72.286810},
            {43.707625, -72.286848},
            {43.707715, -72.286770},
            {43.707700, -72.286727},
            {43.707794, -72.286644},
            {43.707739, -72.286518},
            {43.707712, -72.286543},
            {43.707690, -72.286489},
            {43.707635, -72.286546},
            {43.707559, -72.286398},
            {43.707441, -72.286506},
            {43.707507, -72.286656},
            {43.707455, -72.286709},
            {43.707475, -72.286744},
            {43.707454, -72.286766}
        }, { // Haldeman Center
            {43.706391, -72.289066},
            {43.706222, -72.289069},
            {43.706219, -72.289007},
            {43.706194, -72.288973},
            {43.706156, -72.288973},
            {43.706137, -72.289002},
            {43.706134, -72.289029},
            {43.706051, -72.289026},
            {43.706049, -72.289095},
            {43.706024, -72.289093},
            {43.706017, -72.289305},
            {43.706044, -72.289307},
            {43.706044, -72.289404},
            {43.706215, -72.289404},
            {43.706215, -72.289316},
            {43.706373, -72.289312}
        }, { // Hitchcock Hall
            {43.704838, -72.290545},
            {43.704559, -72.290532},
            {43.704557, -72.290667},
            {43.704654, -72.290673},
            {43.704653, -72.290750},
            {43.704695, -72.290752},
            {43.704692, -72.290901},
            {43.704828, -72.290905}
        }, { // Hopkins Center for the Arts
            {43.702189, -72.287838},
            {43.701675, -72.287809},
            {43.701671, -72.287899},
            {43.701666, -72.287939},
            {43.701654, -72.287972},
            {43.701648, -72.287989},
            {43.701630, -72.288018},
            {43.701594, -72.288048},
            {43.701571, -72.288059},
            {43.701377, -72.288031},
            {43.701391, -72.287681},
            {43.701121, -72.287656},
            {43.701094, -72.288227},
            {43.701309, -72.288245},
            {43.701302, -72.288420},
            {43.701679, -72.288454},
            {43.701673, -72.288667},
            {43.701834, -72.288675},
            {43.701843, -72.288399},
            {43.701975, -72.288406},
            {43.701980, -72.288220},
            {43.701896, -72.288215},
            {43.701900, -72.288053},
            {43.702182, -72.288072}
        }, { // House Center A
            {43.702607, -72.285004},
            {43.702514, -72.284957},
            {43.702531, -72.284893},
            {43.702489, -72.284873},
            {43.702473, -72.284942},
            {43.702417, -72.284915},
            {43.702334, -72.285270},
            {43.702416, -72.285311},
            {43.702404, -72.285374},
            {43.702459, -72.285398},
            {43.702474, -72.285343},
            {43.702524, -72.285368},
        }, { // House Center B
            {43.704627, -72.291146},
            {43.704627, -72.290959},
            {43.704531, -72.290954},
            {43.704533, -72.290820},
            {43.704459, -72.290820},
            {43.704460, -72.290888},
            {43.704439, -72.290890},
            {43.704439, -72.290952},
            {43.704461, -72.290956},
            {43.704463, -72.291143}
        }, { // Judge Hall
            {43.704300, -72.296803},
            {43.704394, -72.296807},
            {43.704378, -72.296724},
            {43.704391, -72.296694},
            {43.704599, -72.296679},
            {43.704598, -72.296569},
            {43.704396, -72.296587},
            {43.704383, -72.296577},
            {43.704300, -72.296335},
            {43.704226, -72.296364},
            {43.704320, -72.296644},
            {43.704310, -72.296671},
            {43.704246, -72.296687}
        }, { // Kemeny Hall
            {43.706373, -72.289312},
            {43.706377, -72.289394},
            {43.706536, -72.289391},
            {43.706535, -72.289344},
            {43.706557, -72.289343},
            {43.706549, -72.288769},
            {43.706588, -72.288765},
            {43.706570, -72.288459},
            {43.706435, -72.288490},
            {43.706429, -72.288475},
            {43.706384, -72.288464},
            {43.706346, -72.288494},
            {43.706337, -72.288550},
            {43.706348, -72.288616},
            {43.706380, -72.288610},
            {43.706391, -72.289066}
        }, { // Kresge Physical Sciences Library
            {43.706113, -72.286039},
            {43.706027, -72.286122},
            {43.705974, -72.286149},
            {43.705958, -72.286110},
            {43.705678, -72.286281},
            {43.705809, -72.286596},
            {43.705835, -72.286576},
            {43.705854, -72.286621},
            {43.706130, -72.286424},
            {43.706168, -72.286483},
            {43.706184, -72.286464},
            {43.706197, -72.286488},
            {43.706296, -72.286380},
            {43.706282, -72.286353},
            {43.706304, -72.286328},
            {43.706267, -72.286264}
        }, { // Little Hall
            {43.707123, -72.290610},
            {43.707026, -72.290663},
            {43.707047, -72.290740},
            {43.706965, -72.290784},
            {43.707005, -72.290929},
            {43.707086, -72.290886},
            {43.707110, -72.290975},
            {43.707211, -72.290920}
        }, { // Lord Hall
            {43.704614, -72.291976},
            {43.704613, -72.292024},
            {43.704520, -72.292024},
            {43.704519, -72.292196},
            {43.704787, -72.292201},
            {43.704789, -72.292031},
            {43.704671, -72.292030},
            {43.704672, -72.291978}
        }, { // MacLean Engineering Sciences Center
            {43.704405, -72.294734},
            {43.704264, -72.294730},
            {43.704265, -72.294510},
            {43.704189, -72.294509},
            {43.704170, -72.294513},
            {43.704154, -72.294520},
            {43.704138, -72.294530},
            {43.704121, -72.294547},
            {43.704107, -72.294568},
            {43.704093, -72.294595},
            {43.704082, -72.294629},
            {43.704075, -72.295310},
            {43.704314, -72.295314},
            {43.704315, -72.295254},
            {43.704408, -72.295256}
        }, { // Massachusetts Hall
            {43.703581, -72.290610},
            {43.703628, -72.290611},
            {43.703626, -72.290701},
            {43.703957, -72.290709},
            {43.703958, -72.290633},
            {43.704001, -72.290635},
            {43.703999, -72.290565},
            {43.703957, -72.290563},
            {43.703958, -72.290501},
            {43.703626, -72.290491},
            {43.703624, -72.290542},
            {43.703576, -72.290541}
        }, { // Maxwell Hall
            {43.703703, -72.295517},
            {43.703796, -72.295333},
            {43.703879, -72.295409},
            {43.703923, -72.295324},
            {43.703811, -72.295217},
            {43.703789, -72.295259},
            {43.703748, -72.295219},
            {43.703609, -72.295495},
            {43.703553, -72.295443},
            {43.703484, -72.295581},
            {43.703609, -72.295692},
            {43.703658, -72.295599},
            {43.703818, -72.295746},
            {43.703760, -72.295866},
            {43.703820, -72.295924},
            {43.703896, -72.295769},
            {43.703864, -72.295734},
            {43.703887, -72.295688}
        }, { // McCulloch Hall
            {43.704607, -72.283617},
            {43.704716, -72.283212},
            {43.704700, -72.283203},
            {43.704711, -72.283157},
            {43.704633, -72.283114},
            {43.704620, -72.283160},
            {43.704595, -72.283148},
            {43.704532, -72.283367},
            {43.704343, -72.283265},
            {43.704294, -72.283271},
            {43.704263, -72.283385},
            {43.704305, -72.283453}
        }, { // McLane Hall
            {43.705440, -72.291908},
            {43.705554, -72.292254},
            {43.705594, -72.292231},
            {43.705628, -72.292334},
            {43.705723, -72.292277},
            {43.705682, -72.292151},
            {43.705658, -72.292165},
            {43.705527, -72.291762},
            {43.705507, -72.291776}
        }, { // McNutt Hall
            {43.703719, -72.289774},
            {43.703429, -72.289773},
            {43.703426, -72.289979},
            {43.703482, -72.289979},
            {43.703481, -72.290129},
            {43.703645, -72.290130},
            {43.703648, -72.289982},
            {43.703717, -72.289985}
        }, { // Moore Psychology Building
            {43.707545, -72.288110},
            {43.707339, -72.287671},
            {43.707181, -72.287815},
            {43.707199, -72.287856},
            {43.707009, -72.288027},
            {43.707089, -72.288198},
            {43.707260, -72.288039},
            {43.707370, -72.288268}
        }, { // Morton Hall
            {43.704241, -72.283596},
            {43.703894, -72.283420},
            {43.703852, -72.283579},
            {43.704199, -72.283755}
        }, { // New Hampshire Hall
            {43.702479, -72.286485},
            {43.702433, -72.286705},
            {43.702381, -72.286685},
            {43.702350, -72.286838},
            {43.702402, -72.286861},
            {43.702361, -72.287064},
            {43.702448, -72.287099},
            {43.702460, -72.287047},
            {43.702540, -72.287078},
            {43.702566, -72.286949},
            {43.702510, -72.286927},
            {43.702553, -72.286718},
            {43.702601, -72.286737},
            {43.702628, -72.286605},
            {43.702552, -72.286575},
            {43.702563, -72.286518}
        }, { // North Fairbanks
            {43.703579, -72.291181},
            {43.703761, -72.291182},
            {43.703761, -72.291164},
            {43.703813, -72.291165},
            {43.703813, -72.291051},
            {43.703764, -72.291051},
            {43.703763, -72.291021},
            {43.703684, -72.291021},
            {43.703684, -72.290960},
            {43.703632, -72.290959},
            {43.703632, -72.291015},
            {43.703574, -72.291014}
        }, { // North Fayerweather Hall
            {43.703971, -72.286455},
            {43.704021, -72.286455},
            {43.704023, -72.286573},
            {43.704185, -72.286570},
            {43.704182, -72.286235},
            {43.704024, -72.286237},
            {43.704024, -72.286337},
            {43.703973, -72.286338}
        }, { // North Massachusetts Hall
            {43.704001, -72.290635},
            {43.704041, -72.290636},
            {43.704040, -72.290709},
            {43.704128, -72.290711},
            {43.704128, -72.290817},
            {43.704229, -72.290821},
            {43.704235, -72.290507},
            {43.704042, -72.290501},
            {43.704040, -72.290566},
            {43.703999, -72.290565}
        }, { // Parkhurst Hall
            {43.704163, -72.289801},
            {43.703908, -72.289799},
            {43.703909, -72.290042},
            {43.703973, -72.290042},
            {43.703976, -72.290213},
            {43.704086, -72.290213},
            {43.704091, -72.290040},
            {43.704161, -72.290043}
        }, { // Rauner Hall
            {43.707335, -72.285927},
            {43.707361, -72.285896},
            {43.707478, -72.286072},
            {43.707467, -72.286087},
            {43.707500, -72.286134},
            {43.707602, -72.285997},
            {43.707360, -72.285640},
            {43.707325, -72.285680},
            {43.707340, -72.285707},
            {43.707278, -72.285792},
            {43.707303, -72.285833},
            {43.707282, -72.285860}
        }, { // Reed Hall
            {43.703231, -72.287362},
            {43.702947, -72.287362},
            {43.702949, -72.287579},
            {43.703235, -72.287577}
        }, { // Richardson Hall
            {43.704823, -72.286551},
            {43.704573, -72.286557},
            {43.704576, -72.286724},
            {43.704600, -72.286724},
            {43.704600, -72.286736},
            {43.704631, -72.286735},
            {43.704631, -72.286724},
            {43.704660, -72.286721},
            {43.704659, -72.286710},
            {43.704675, -72.286708},
            {43.704676, -72.286722},
            {43.704679, -72.286737},
            {43.704685, -72.286743},
            {43.704695, -72.286749},
            {43.704700, -72.286750},
            {43.704711, -72.286749},
            {43.704719, -72.286747},
            {43.704724, -72.286743},
            {43.704728, -72.286732},
            {43.704731, -72.286719},
            {43.704730, -72.286707},
            {43.704749, -72.286706},
            {43.704750, -72.286720},
            {43.704779, -72.286718},
            {43.704779, -72.286728},
            {43.704805, -72.286726},
            {43.704805, -72.286718},
            {43.704826, -72.286718}
        }, { // Ripley Hall
            {43.704149, -72.285717},
            {43.703985, -72.285627},
            {43.703944, -72.285779},
            {43.704209, -72.285922},
            {43.704251, -72.285773}
        }, { // Robinson Hall
            {43.703205, -72.289754},
            {43.703013, -72.289753},
            {43.703012, -72.289975},
            {43.703073, -72.289976},
            {43.703072, -72.290150},
            {43.703100, -72.290151},
            {43.703099, -72.290189},
            {43.703174, -72.290189},
            {43.703174, -72.290150},
            {43.703188, -72.290150},
            {43.703189, -72.289981},
            {43.703204, -72.289980}
        }, { // Rockefeller Center
            {43.705716, -72.290194},
            {43.705711, -72.290573},
            {43.705843, -72.290577},
            {43.705856, -72.289826},
            {43.705728, -72.289823},
            {43.705725, -72.290007}
        }, { // Rollins Chapel
            {43.704633, -72.287237},
            {43.704573, -72.287233},
            {43.704573, -72.287103},
            {43.704529, -72.287101},
            {43.704530, -72.287038},
            {43.704524, -72.287019},
            {43.704508, -72.286992},
            {43.704488, -72.286978},
            {43.704463, -72.286975},
            {43.704441, -72.286987},
            {43.704421, -72.287013},
            {43.704411, -72.287054},
            {43.704411, -72.287104},
            {43.704361, -72.287104},
            {43.704360, -72.287247},
            {43.704307, -72.287247},
            {43.704310, -72.287420},
            {43.704376, -72.287421},
            {43.704376, -72.287449},
            {43.704369, -72.287451},
            {43.704369, -72.287510},
            {43.704417, -72.287510},
            {43.704418, -72.287500},
            {43.704540, -72.287501},
            {43.704541, -72.287459},
            {43.704573, -72.287459},
            {43.704574, -72.287416},
            {43.704631, -72.287416}
        }, { // Roth Center For Jewish Life
            {43.708101, -72.292388},
            {43.708016, -72.292256},
            {43.707989, -72.292290},
            {43.707878, -72.292119},
            {43.707866, -72.292132},
            {43.707822, -72.292062},
            {43.707744, -72.292160},
            {43.707947, -72.292469},
            {43.707960, -72.292455},
            {43.707999, -72.292515}
        }, { // Russell Sage Hall
            {43.705611, -72.290782},
            {43.705612, -72.290587},
            {43.705325, -72.290573},
            {43.705321, -72.290963},
            {43.705470, -72.290971},
            {43.705471, -72.290953},
            {43.705538, -72.290958}
        }, { // Sanborn Hall
            {43.704836, -72.289024},
            {43.704797, -72.289024},
            {43.704700, -72.289022},
            {43.704699, -72.289426},
            {43.704877, -72.289426},
            {43.704880, -72.289249},
            {43.704794, -72.289249},
            {43.704797, -72.289113},
            {43.704836, -72.289112}
        }, { // Sherman House
            {43.707704, -72.288431},
            {43.707636, -72.288303},
            {43.707620, -72.288319},
            {43.707569, -72.288225},
            {43.707514, -72.288282},
            {43.707567, -72.288382},
            {43.707545, -72.288405},
            {43.707611, -72.288528}
        }, { // Silsby Hall
            {43.705725, -72.290007},
            {43.705707, -72.290007},
            {43.705708, -72.289954},
            {43.705499, -72.289946},
            {43.705498, -72.289991},
            {43.705480, -72.289989},
            {43.705483, -72.289840},
            {43.705353, -72.289836},
            {43.705348, -72.290017},
            {43.705336, -72.290016},
            {43.705337, -72.290141},
            {43.705350, -72.290139},
            {43.705348, -72.290331},
            {43.705475, -72.290334},
            {43.705479, -72.290186},
            {43.705716, -72.290194}
        }, { // Smith Hall
            {43.704358, -72.285392},
            {43.704399, -72.285250},
            {43.704122, -72.285101},
            {43.704082, -72.285239},
            {43.704256, -72.285333}
        }, { // South Fairbanks
            {43.703574, -72.291014},
            {43.703515, -72.291013},
            {43.703515, -72.290974},
            {43.703393, -72.290976},
            {43.703393, -72.291039},
            {43.703373, -72.291040},
            {43.703374, -72.291128},
            {43.703393, -72.291128},
            {43.703394, -72.291206},
            {43.703423, -72.291207},
            {43.703423, -72.291222},
            {43.703516, -72.291221},
            {43.703516, -72.291181},
            {43.703579, -72.291181}
        }, { // South Fayerweather Hall
            {43.703516, -72.286348},
            {43.703465, -72.286348},
            {43.703465, -72.286264},
            {43.703303, -72.286265},
            {43.703305, -72.286582},
            {43.703464, -72.286580},
            {43.703463, -72.286479},
            {43.703517, -72.286478}
        }, { // South Massachusetts Hall
            {43.703576, -72.290541},
            {43.703530, -72.290541},
            {43.703530, -72.290457},
            {43.703331, -72.290452},
            {43.703327, -72.290785},
            {43.703437, -72.290787},
            {43.703440, -72.290658},
            {43.703532, -72.290660},
            {43.703533, -72.290611},
            {43.703581, -72.290610}
        }, { // Steele Hall
            {43.705678, -72.286281},
            {43.705650, -72.286207},
            {43.705480, -72.286271},
            {43.705529, -72.286432},
            {43.705542, -72.286498},
            {43.705565, -72.286487},
            {43.705603, -72.286596},
            {43.705549, -72.286635},
            {43.705703, -72.287033},
            {43.705854, -72.286927},
            {43.705820, -72.286824},
            {43.705859, -72.286796},
            {43.705865, -72.286789},
            {43.705869, -72.286780},
            {43.705864, -72.286748},
            {43.705809, -72.286596}
        }, { // Streeter Hall
            {43.704672, -72.291978},
            {43.704671, -72.291928},
            {43.704711, -72.291929},
            {43.704715, -72.291529},
            {43.704688, -72.291528},
            {43.704688, -72.291470},
            {43.704629, -72.291470},
            {43.704628, -72.291525},
            {43.704581, -72.291524},
            {43.704578, -72.291928},
            {43.704614, -72.291929},
            {43.704614, -72.291976}
        }, { // Sudikoff Hall
            {43.706611, -72.287151},
            {43.706533, -72.287032},
            {43.706366, -72.287244},
            {43.706575, -72.287557},
            {43.706743, -72.287344},
            {43.706750, -72.287353},
            {43.706843, -72.287231},
            {43.706817, -72.287191},
            {43.706850, -72.287148},
            {43.706873, -72.287177},
            {43.707006, -72.287012},
            {43.706882, -72.286831},
            {43.706853, -72.286866},
            {43.706823, -72.286824},
            {43.706858, -72.286780},
            {43.706774, -72.286654},
            {43.706765, -72.286664},
            {43.706735, -72.286620},
            {43.706675, -72.286698},
            {43.706708, -72.286749},
            {43.706688, -72.286775},
            {43.706775, -72.286903},
            {43.706781, -72.286896},
            {43.706814, -72.286947},
            {43.706765, -72.287012},
            {43.706800, -72.287066},
            {43.706596, -72.287326},
            {43.706542, -72.287246}
        }, { // The Lodge
            {43.700856, -72.286470},
            {43.700591, -72.286466},
            {43.700590, -72.286557},
            {43.700645, -72.286558},
            {43.700642, -72.286790},
            {43.700576, -72.286789},
            {43.700575, -72.286913},
            {43.700843, -72.286919},
            {43.700846, -72.286789},
            {43.700765, -72.286786},
            {43.700767, -72.286600},
            {43.700855, -72.286601}
        }, { // Thomas Hall
            {43.707794, -72.286644},
            {43.707819, -72.286622},
            {43.707839, -72.286675},
            {43.707940, -72.286583},
            {43.707787, -72.286164},
            {43.707758, -72.286184},
            {43.707733, -72.286121},
            {43.707638, -72.286188},
            {43.707765, -72.286491},
            {43.707739, -72.286518}
        }, { // Thornton Hall
            {43.703473, -72.286965},
            {43.703300, -72.286968},
            {43.703302, -72.287251},
            {43.703475, -72.287248}
        }, { // Topliff Hall
            {43.702777, -72.285895},
            {43.702383, -72.285734},
            {43.702348, -72.285921},
            {43.702616, -72.286032},
            {43.702602, -72.286103},
            {43.702447, -72.286045},
            {43.702419, -72.286188},
            {43.702561, -72.286243},
            {43.702539, -72.286344},
            {43.702672, -72.286393}
        }, { // Webster Hall
            {43.704596, -72.288129},
            {43.704596, -72.288101},
            {43.704582, -72.288100},
            {43.704581, -72.288042},
            {43.704537, -72.288042},
            {43.704536, -72.288020},
            {43.704335, -72.288017},
            {43.704334, -72.288040},
            {43.704295, -72.288039},
            {43.704294, -72.288091},
            {43.704277, -72.288091},
            {43.704276, -72.288295},
            {43.704294, -72.288295},
            {43.704294, -72.288356},
            {43.704338, -72.288358},
            {43.704338, -72.288386},
            {43.704525, -72.288387},
            {43.704525, -72.288365},
            {43.704580, -72.288365},
            {43.704581, -72.288316},
            {43.704595, -72.288316},
            {43.704595, -72.288297},
            {43.704607, -72.288295},
            {43.704620, -72.288287},
            {43.704630, -72.288277},
            {43.704638, -72.288264},
            {43.704644, -72.288248},
            {43.704649, -72.288230},
            {43.704651, -72.288215},
            {43.704649, -72.288195},
            {43.704645, -72.288180},
            {43.704641, -72.288165},
            {43.704632, -72.288153},
            {43.704621, -72.288141},
            {43.704609, -72.288132}
        }, { // Wentworth Hall
            {43.704185, -72.286954},
            {43.704019, -72.286960},
            {43.704024, -72.287227},
            {43.704189, -72.287220}
        }, { // Wheeler Hall
            {43.705125, -72.287064},
            {43.705087, -72.287067},
            {43.705085, -72.287049},
            {43.704992, -72.287063},
            {43.704993, -72.287080},
            {43.704959, -72.287084},
            {43.704968, -72.287212},
            {43.704983, -72.287210},
            {43.704998, -72.287443},
            {43.704980, -72.287446},
            {43.704989, -72.287566},
            {43.705005, -72.287563},
            {43.705009, -72.287591},
            {43.705137, -72.287573},
            {43.705136, -72.287550},
            {43.705156, -72.287547},
            {43.705147, -72.287426},
            {43.705133, -72.287427},
            {43.705119, -72.287200},
            {43.705133, -72.287198}
        }, { // Wilder Hall
            {43.705480, -72.286271},
            {43.705451, -72.286133},
            {43.705509, -72.286111},
            {43.705490, -72.286030},
            {43.705452, -72.286045},
            {43.705435, -72.285952},
            {43.705318, -72.285998},
            {43.705322, -72.286022},
            {43.705141, -72.286095},
            {43.705134, -72.286066},
            {43.705012, -72.286115},
            {43.705045, -72.286276},
            {43.705108, -72.286251},
            {43.705119, -72.286300},
            {43.705055, -72.286324},
            {43.705079, -72.286445},
            {43.704955, -72.286492},
            {43.704987, -72.286651},
            {43.705216, -72.286563},
            {43.705219, -72.286575},
            {43.705432, -72.286496},
            {43.705428, -72.286474},
            {43.705529, -72.286432}
        }, { // Wilson Hall
            {43.702492, -72.287387},
            {43.702407, -72.287383},
            {43.702407, -72.287292},
            {43.702264, -72.287281},
            {43.702262, -72.287365},
            {43.702147, -72.287356},
            {43.702129, -72.287535},
            {43.702143, -72.287526},
            {43.702423, -72.287555},
            {43.702425, -72.287497},
            {43.702496, -72.287496}
        }, { // Winifred-Raven House
            {43.707221, -72.287533},
            {43.707143, -72.287378},
            {43.706915, -72.287596},
            {43.706978, -72.287723},
            {43.707147, -72.287560},
            {43.707163, -72.287589}
        }, { // Woodward Hall
            {43.704251, -72.285773},
            {43.704358, -72.285392},
            {43.704256, -72.285333},
            {43.704149, -72.285717}
        }, { // Zimmerman Hall
            {43.704583, -72.283765},
            {43.704338, -72.283639},
            {43.704294, -72.283804},
            {43.704353, -72.283832},
            {43.704392, -72.283929},
            {43.704363, -72.284037},
            {43.704492, -72.284101}
        }
    };

    public static int getPlaceIndex(double[] latLng) {
        List<Integer> placeIndices = new ArrayList<>();

        for (int i = 0; i < PLACE_COUNT; i++) {
            placeIndices.add(i);
        }

        sortPlaceIndices(placeIndices, latLng);

        for (int i = 0; i < 3; i++) {
            if (isInside(PLACE_COORDINATES[placeIndices.get(i)], latLng)) return placeIndices.get(i);
        }

        return -1;
    }

    public static void sortPlaceIndices(List<Integer> placeIndices, final double[] latLng) {
        placeIndices.sort(new Comparator<Integer>() {
            @Override
            public int compare(Integer o1, Integer o2) {
                double distance1 = distanceBetween(PLACE_COORDINATES_AVG[o1], latLng);
                double distance2 = distanceBetween(PLACE_COORDINATES_AVG[o2], latLng);
                if (distance1 == distance2) return 0;
                return distance1 < distance2 ? -1 : 1;
            }
        });
    }

    private static double distanceBetween(double[] p, double[] q) {
        double dx = MILLION * (p[X] - q[X]);
        double dy = MILLION * (p[Y] - q[Y]);
        return Math.sqrt(dx * dx + dy * dy);
    }

    /* The following algorithm for determining if a point lies in a polygon is from
     * https://www.geeksforgeeks.org/how-to-check-if-a-given-point-lies-inside-a-polygon/
     */

    /**************** isInside() ****************
     * Determines if a point p is inside a polygon poly
     * @param poly  double[][] representing polygon coordinates (each secondary array should have
     *              length 2)
     * @param p     double[] representing a point's coordinates
     * @return      true if
     *                  poly is valid (has length >= 3, each secondary array has length == 2) &&
     *                  p is valid (has length 2) &&
     *                  p lies inside poly
     *              false otherwise
     */
    public static boolean isInside(double[][] poly, double[] p) {
        double[] q; // double[] for a point definitely outside of poly
        int n;      // int for the number of vertices of poly
        int j;      // int for index of the next vertex of poly
        int count;  // int for the count of intersections (odd count indicates p is inside poly)

        n = poly.length;

        // poly needs at least 3 vertices
        if (n < 3) return false;

        // Because poly is always a place on campus (a secondary array of PLACE_COORDINATES), we'll
        // use {43.7, -72.28}, which is relatively close to campus but still outside all places.
        // We use this instead of some further point like {0, 0}, for example, because we'll be
        // scaling each coordinate by a factor of 1000000 so that the differences between coordinate
        // components is on a scale of 1s instead of trillionths
        q = new double[]{43.700000, -72.280000};
        count = 0;

        for (int i = 0; i < n; i++) {
            j = (i + 1) % n;

            if (intersects(poly[i], poly[j], p, q)) {
                if (orientation(poly[i], p, poly[j]) == 0 && isOnSegment(poly[i], p, poly[j]))
                    return true;
                count++;
            }
        }

        // return true if count is odd, otherwise false
        return count % 2 == 1;
    }

    /**************** orientation() ****************
     * Finds the orientation of the ordered triplet (p, q, r) in the xy plane
     * @param p double[] representing a point p in the xy plane
     * @param q double[] representing a point q in the xy plane
     * @param r double[] representing a point r in the xy plane
     * @return  0 if p, q, and r are co-linear
     *          sign of z component of cross product qp x qr otherwise
     */
    private static int orientation(double[] p, double[] q, double r[]) {

        double[] qp;    // double[] representing the vector from q to p (scaled by 1000000)
        double[] qr;    // double[] representing the vector from q to r (scaled by 1000000)
        double z;       // double for z component of qp x qr

        qp = new double[]{MILLION * (p[X] - q[X]), MILLION * (p[Y] - q[Y])};
        qr = new double[]{MILLION * (r[X] - q[X]), MILLION * (r[Y] - q[Y])};
        z = qp[X] * qr[Y] - qp[Y] * qr[X];

        if (z == 0) return 0; // This probably won't ever happen since we're dealing with doubles

        return (z > 0) ? 1 : -1;
    }

    /**************** isOnSegment() ****************
     * Determines whether point q lies on segment pr, assuming that p, q, and r are co-linear
     * @param p double[] representing a point p in the xy plane
     * @param q double[] representing a point q in the xy plane
     * @param r double[] representing a point r in the xy plane
     * @return  true if point q lies on segment pr
     *          false otherwise
     */
    private static boolean isOnSegment(double[] p, double[] q, double r[]) {
        return (q[X] <= Math.max(p[X], r[X]) &&
                q[X] >= Math.min(p[X], r[X]) &&
                q[Y] <= Math.max(p[Y], r[Y]) &&
                q[Y] >= Math.max(p[Y], r[Y]));
    }

    /**************** intersects() ****************
     * Determines whether segment p1q1 intersects with segment p2q2
     * @param p1    double[] representing a point p1 in the xy plane
     * @param q1    double[] representing a point q1 in the xy plane
     * @param p2    double[] representing a point p2 in the xy plane
     * @param q2    double[] representing a point q2 in the xy plane
     * @return      true if segment p1q1 intersects with segment p2q2
     *              false otherwise
     */
    private static boolean intersects(double[] p1, double[] q1, double[] p2, double[] q2) {
        // There are four orientations needed
        int o1 = orientation(p1, q1, p2);
        int o2 = orientation(p1, q1, q2);
        int o3 = orientation(p2, q2, p1);
        int o4 = orientation(p2, q2, q1);

        // General case
        if (o1 != o2 && o3 != o4) return true;

        // Special cases
        return (o1 == 0 && isOnSegment(p1, p2, q1) || // p1, q1, p2 co-linear && p2 lies on p1q1
                o2 == 0 && isOnSegment(p1, q2, q1) || // p1, q1, q2 co-linear && q2 lies on p1q1
                o3 == 0 && isOnSegment(p2, p1, q2) || // p2, q2, p1 co-linear && p1 lies on p2q2
                o4 == 0 && isOnSegment(p2, q1, q2));  // p2, q2, q1 co-linear && q1 lies on p2q2
    }
}
